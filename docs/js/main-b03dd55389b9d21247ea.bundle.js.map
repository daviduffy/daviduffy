{"version":3,"sources":["webpack://david-duffy-portfolio/./src/js/main.js"],"names":["oc","toggleClassMenu","menu","classList","add","contains","remove","OnTransitionEnd","document","querySelector","bars","times","bg","links","Array","from","querySelectorAll","init","addEventListener","forEach","link","app","routes","splash","entered","portfolio","initialized","this","el","dataset","style","backgroundImage","contact","formScript","createElement","innerHTML","mainScript","src","onload","body","appendChild","default","routeChange","e","prevRouteID","oldURL","split","prevRoute","exited","newRouteID","location","hash","slice","newRoute","newRouteElem","getElementById","window","scrollTo","top","lastURL","HashChangeEvent","URL","event","Object","defineProperty","enumerable","configurable","value"],"mappings":"mBAGA,IAAMA,EAAK,CACTC,gBAAiB,WACfD,EAAGE,KAAKC,UAAUC,IAAI,YACjBJ,EAAGE,KAAKC,UAAUE,SAAS,WAG9BL,EAAGE,KAAKC,UAAUG,OAAO,WAFzBN,EAAGE,KAAKC,UAAUC,IAAI,YAK1BG,gBAAiB,WACfP,EAAGE,KAAKC,UAAUG,OAAO,aAE3BJ,KAAMM,SAASC,cAAc,OAC7BC,KAAMF,SAASC,cAAc,WAC7BE,MAAOH,SAASC,cAAc,YAC9BG,GAAIJ,SAASC,cAAc,UAC3BI,MAAOC,MAAMC,KAAKP,SAASQ,iBAAiB,gBAC5CC,KAAM,WACJjB,EAAGE,KAAKgB,iBAAiB,gBAAiBlB,EAAGO,iBAAiB,GAC9DP,EAAGU,KAAKQ,iBAAiB,QAASlB,EAAGC,iBAAiB,GACtDD,EAAGY,GAAGM,iBAAiB,QAASlB,EAAGC,iBAAiB,GACpDD,EAAGW,MAAMO,iBAAiB,QAASlB,EAAGC,iBAAiB,GACvDD,EAAGa,MAAMM,SAAQ,SAASC,GACtBA,EAAKF,iBAAiB,QAASlB,EAAGC,iBAAiB,SAK3D,WACI,IAAIoB,EAAM,CAENC,OAAQ,CACJC,OAAQ,CACJC,QAAS,cAIbC,UAAW,CACPC,aAAa,EACbF,QAAS,WAEAG,KAAKD,cACSZ,MAAMC,KAAKP,SAASQ,iBAAiB,CAAC,eAC9CG,SAAQ,SAACS,GAAO,IACPhB,EAAOgB,EAAGC,QAAVjB,GACRgB,EAAGE,MAAMC,gBAAT,eAAmCnB,EAAnC,SAGRe,KAAKD,aAAc,KAK/BM,QAAS,CACLN,aAAa,EACbF,QAAS,WACL,IAAKG,KAAKD,YAAa,CAEnB,IAAMO,EAAazB,SAAS0B,cAAc,UAM1CD,EAAWE,UALA,8RAMX,IAIMC,EAAa5B,SAAS0B,cAAc,UAC1CE,EAAWC,IAAM,6BACjBD,EAAWE,OANQ,WACf9B,SAAS+B,KAAKC,YAAYP,IAM9BzB,SAAS+B,KAAKC,YAAYJ,GAC1BT,KAAKD,aAAc,MAOnCe,QAAS,SACTC,YAAa,SAASC,GAGdA,IAGAtB,EAAIuB,YAAcD,EAAEE,OAAOC,MAAM,KAAK,GACtCzB,EAAI0B,UAAY1B,EAAIC,OAAOD,EAAIuB,aAK3BvB,EAAI0B,WAAa1B,EAAI0B,UAAUC,QAC/B3B,EAAI0B,UAAUC,UAKtB3B,EAAI4B,WAAaC,SAASC,KAAKC,MAAM,GACrC/B,EAAIgC,SAAWhC,EAAIC,OAAOD,EAAI4B,YAO9B5B,EAAIgC,SAAS7B,UAGbH,EAAIiC,aAAe9C,SAAS+C,eAAelC,EAAI4B,YAE/CO,QAAUA,OAAOC,SAAS,CAAEC,IAAK,KAIrCzC,KAAM,WAMG,IACO0C,EALZ3D,EAAGiB,OAGEuC,OAAOI,kBAEAD,EAAUnD,SAASqD,IACvBL,OAAOtC,iBAAiB,cAAc,SAAS4C,GAC3CC,OAAOC,eAAeF,EAAO,SAAU,CAAEG,YAAY,EAAMC,cAAc,EAAMC,MAAOR,IACtFI,OAAOC,eAAeF,EAAO,SAAU,CAAEG,YAAY,EAAMC,cAAc,EAAMC,MAAO3D,SAASqD,MAC/FF,EAAUnD,SAASqD,QAO1BL,OAAON,SAASC,KAIjB9B,EAAIqB,cAHJc,OAAON,SAASC,KAAO9B,EAAG,QAO9BmC,OAAOtC,iBAAiB,cAAc,SAASyB,GAC3CtB,EAAIqB,YAAYC,MAGpBnC,SAAS+B,KAAKpC,UAAUC,IAAI,iBAIpCoD,OAAOnC,IAAMA,EA1HjB,GA6HAA,IAAIJ,Q","file":"js/main-b03dd55389b9d21247ea.bundle.js","sourcesContent":["import styles from '../scss/app.scss';\n// import styles from '../scss/app.inline.scss';\n\nconst oc = {\n  toggleClassMenu: function() {\n    oc.menu.classList.add('oc--anim');\n    if (!oc.menu.classList.contains('oc--vis')) {\n      oc.menu.classList.add('oc--vis');\n    } else {\n      oc.menu.classList.remove('oc--vis');\n    }\n  },\n  OnTransitionEnd: function() {\n    oc.menu.classList.remove('oc--anim');\n  },\n  menu: document.querySelector('.oc'),\n  bars: document.querySelector('.h__trg'),\n  times: document.querySelector('.oc__trg'),\n  bg: document.querySelector('.oc__x'),\n  links: Array.from(document.querySelectorAll('.oc .menu a')),\n  init: function(){\n    oc.menu.addEventListener(\"transitionend\", oc.OnTransitionEnd, false);\n    oc.bars.addEventListener(\"click\", oc.toggleClassMenu, false);\n    oc.bg.addEventListener(\"click\", oc.toggleClassMenu, false);\n    oc.times.addEventListener(\"click\", oc.toggleClassMenu, false);\n    oc.links.forEach(function(link) {\n        link.addEventListener(\"click\", oc.toggleClassMenu, false);\n    })\n  }\n};\n\n(function() {\n    var app = {\n        // routes (i.e. views and their functionality) defined here\n        routes: {\n            splash: {\n                entered: function() {\n                    // app.newRouteElem.innerHTML = '<p>This JavaScript content overrides the static content for this view.</p>';\n                }\n             },\n            portfolio: {\n                initialized: false,\n                entered: function() {\n                    // context of 'this' is 'portfolio'\n                    if (!this.initialized) {\n                        const images = Array.from(document.querySelectorAll(['[data-bg]']));\n                        images.forEach((el) => {\n                                const { bg } = el.dataset;\n                                el.style.backgroundImage = `url('${bg}')`;\n                            });\n\n                        this.initialized = true;\n                    }\n                    // app.newRouteElem.innerHTML = '<p>This JavaScript content overrides the static content for this view.</p>';\n                }\n            },\n            contact: {\n                initialized: false,\n                entered: function() {\n                    if (!this.initialized) {\n\n                        const formScript = document.createElement('script');\n                        const js = `var Instance = Lumin.default.widgets.signUp.new();\n                            Instance.render({\n                                userID: 'j4AQDctxaOhTkf1T70k5J8LHiNp2',\n                                formID: '723dd95e-3332-4403-8c57-e6627065fd92'\n                            });`;\n                        formScript.innerHTML = js;\n                        const handleLoad = () => {\n                            document.body.appendChild(formScript);\n                        }\n\n                        const mainScript = document.createElement('script');\n                        mainScript.src = 'https://nove.io/v4/nove.js';\n                        mainScript.onload = handleLoad;\n                        document.body.appendChild(mainScript);\n                        this.initialized = true;\n                    }\n                }\n            }\n        },\n        // The default view is recorded here. A more advanced implementation\n        // might query the DOM to define it on the fly.\n        default: 'splash',\n        routeChange: function(e) {\n\n            // if this function was triggered by a hashchange set previous route info\n            if (e) {\n\n                // set previous route info\n                app.prevRouteID = e.oldURL.split(\"#\")[1];\n                app.prevRoute = app.routes[app.prevRouteID];\n\n                // console.log({ prevRoute: app.prevRoute, prevRouteID: app.prevRouteID });\n\n                // and run exited function\n                if (app.prevRoute && app.prevRoute.exited) {\n                    app.prevRoute.exited();\n                }\n            }\n\n            // set new route info\n            app.newRouteID = location.hash.slice(1); // 'splash', 'about', etc\n            app.newRoute = app.routes[app.newRouteID];\n\n            // classes housekeeping\n            // $body.classList = '';\n            // $body.classList.add( app.newRouteID );\n\n            // run entered function\n            app.newRoute.entered();\n\n            // target new route\n            app.newRouteElem = document.getElementById(app.newRouteID);\n\n            window && window.scrollTo({ top: 0 });\n\n        },\n\n        init: function() {\n\n            oc.init();\n\n            // just in case newURL and oldURL aren't supported\n            if (!window.HashChangeEvent) {\n                (function(){\n                    var lastURL = document.URL;\n                    window.addEventListener(\"hashchange\", function(event){\n                        Object.defineProperty(event, \"oldURL\", { enumerable: true, configurable: true, value: lastURL });\n                        Object.defineProperty(event, \"newURL\", { enumerable: true, configurable: true, value: document.URL });\n                        lastURL = document.URL;\n                    });\n                }());\n            }\n\n            // If there is no hash in the URL, change the URL to\n            // include the default view's hash.\n            if (!window.location.hash) {\n                window.location.hash = app.default;\n            } else {\n                // Execute routeChange() for the first time\n                app.routeChange();\n            }\n\n            // Fire all of the ins and outs of route changes\n            window.addEventListener('hashchange', function(e) {\n                app.routeChange(e);\n            });\n\n            document.body.classList.add('initialized');\n\n        }\n    };\n    window.app = app;\n})();\n\napp.init();"],"sourceRoot":""}